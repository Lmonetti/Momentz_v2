var express = require('express');
var router = express.Router();

var data = [{"updated": "2012-10-27T05:12:03-04:00", "url": "http://www.huffingtonpost.com/2012/08/27/shooting-perry-hall-high-school_n_1833403.html", "text": "Perry Hall High School Shooting: Student Shot On First Day Of Classes At Maryland School", "topic": 5, "outlet": "Huffington Post", "id": 134, "posted": "2012-08-27T11:53:18-04:00"}, {"updated": "2012-11-07T05:12:01-05:00", "url": "http://www.huffingtonpost.com/2012/09/07/shots-fired-in-ill-school_n_1864888.html", "text": "Illinois School Shooting: Shots Fired In Normal Community High School, 1 Student In Custody", "topic": 5, "outlet": "Huffington Post", "id": 140, "posted": "2012-09-07T12:51:50-04:00"}, {"updated": "2012-12-16T10:05:21-05:00", "url": "http://www.huffingtonpost.com/2012/12/14/sandy-hook-elementary-school-shooting_n_2300831.html", "text": "Sandy Hook Elementary School Shooting: Newtown, Connecticut Administrators, Students Among Victims, Reports Say", "topic": 5, "outlet": "Huffington Post", "id": 130, "posted": "2012-12-14T10:28:56-05:00"}, {"updated": "2013-02-14T05:12:01-05:00", "url": "http://www.huffingtonpost.com/2012/12/15/connecticut-school-shooti_n_2306678.html", "text": "Connecticut School Shooting 2012 Facts", "topic": 5, "outlet": "Huffington Post", "id": 124, "posted": "2012-12-15T08:58:40-05:00"}, {"updated": "2013-02-15T05:12:01-05:00", "url": "http://www.huffingtonpost.com/2012/12/16/sandy-hook-shooting-heroes_n_2311072.html", "text": "Sandy Hook Shooting Heroes 'Saved So Many Lives'", "topic": 5, "outlet": "Huffington Post", "id": 146, "posted": "2012-12-16T09:50:42-05:00"}, {"updated": "2013-03-12T05:12:02-04:00", "url": "http://www.huffingtonpost.com/2013/01/10/taft-high-school-shooting_n_2449261.html", "text": "Taft High School Shooting: Suspect In Custody In Taft, California", "topic": 5, "outlet": "Huffington Post", "id": 112, "posted": "2013-01-10T12:45:15-05:00"}, {"updated": "2013-03-19T14:21:13-04:00", "url": "http://www.huffingtonpost.com/2013/03/19/tj-lane-sentenced-to-life-chardon_n_2907540.html", "text": "T.J. Lane Life Sentence: Chardon High School Shooter Appears In Court Wearing 'KILLER' T-Shirt", "topic": 5, "outlet": "Huffington Post", "id": 145, "posted": "2013-03-19T11:46:34-04:00"}, {"updated": "2013-04-29T12:39:58-04:00", "url": "http://www.huffingtonpost.com/2013/04/29/cincinnati-la-salle-school-shooting_n_3177836.html", "text": "Cincinnati School Shooting: La Salle High School Student Shoots Self Inside Classroom, Authorities Say", "topic": 5, "outlet": "Huffington Post", "id": 133, "posted": "2013-04-29T10:24:18-04:00"}, {"updated": "2013-10-22T05:12:01-04:00", "url": "http://www.huffingtonpost.com/2013/08/22/georgia-school-shooting-call_n_3794415.html", "text": "Georgia School Shooting 911 Call: Antoinette Tuff Tells Michael Brandon Hill 'It's Gonna Be All Right'", "topic": 5, "outlet": "Huffington Post", "id": 121, "posted": "2013-08-22T08:54:18-04:00"}, {"updated": "2013-10-22T11:49:58-04:00", "url": "http://www.huffingtonpost.com/2013/10/21/sparks-middle-school-shooting-nevada_n_4139368.html", "text": "Sparks Middle School Shooting In Nevada Leaves 2 Dead, 2 Wounded", "topic": 5, "outlet": "Huffington Post", "id": 131, "posted": "2013-10-21T20:22:39-04:00"}, {"updated": "2013-10-23T17:28:11-04:00", "url": "http://www.huffingtonpost.com/2013/10/23/should-we-blame-the-parents-of-the-nevada-school-shooter_n_4151476.html", "text": "Should We Blame The Parents Of The Nevada School Shooter?", "topic": 5, "outlet": "Huffington Post", "id": 132, "posted": "2013-10-23T17:26:21-04:00"}, {"updated": "2014-01-23T01:38:01-05:00", "url": "http://www.huffingtonpost.com/2013/12/13/arapahoe-high-school-shooting_n_4441538.html", "text": "Arapahoe High School Shooting Leaves Student Injured, 1 Dead [UPDATE]", "topic": 5, "outlet": "Huffington Post", "id": 107, "posted": "2013-12-13T15:09:22-05:00"}, {"updated": "2014-01-23T01:38:01-05:00", "url": "http://www.huffingtonpost.com/2013/12/14/colorado-school-shooting_n_4443347.html", "text": "Colorado School Shooting Leaves Arapahoe High School Student Wounded, Gunman Kills Self", "topic": 5, "outlet": "Huffington Post", "id": 138, "posted": "2013-12-14T01:10:43-05:00"}, {"updated": "2014-02-13T05:59:01-05:00", "url": "http://www.huffingtonpost.com/2013/12/14/newtown-anniversary_n_4445090.html", "text": "Newtown Anniversary: Bells Toll 26 Times To Honor School Shooting Victims", "topic": 5, "outlet": "Huffington Post", "id": 143, "posted": "2013-12-14T09:56:38-05:00"}, {"updated": "2014-02-20T05:59:01-05:00", "url": "http://www.huffingtonpost.com/2013/12/21/arapahoe-high-school-shooting-claire-davis_n_4486998.html", "text": "Arapahoe High School Shooting: Claire Davis Dies More Than Week After Being Shot By Classmate", "topic": 5, "outlet": "Huffington Post", "id": 144, "posted": "2013-12-21T19:52:19-05:00"}, {"updated": "2014-03-16T05:59:02-04:00", "url": "http://www.huffingtonpost.com/2014/01/14/berrendo-middle-school-shooting_n_4595702.html", "text": "Berrendo Middle School Shooting: Suspect Apprehended After Shots Fired In New Mexico", "topic": 5, "outlet": "Huffington Post", "id": 122, "posted": "2014-01-14T10:57:47-05:00"}, {"updated": "2014-03-17T05:59:02-04:00", "url": "http://www.huffingtonpost.com/2014/01/15/berrendo-middle-school-shooting_n_4601391.html", "text": "Berrendo Middle School Shooting Witness, 12, Saw 'Blood Everywhere'", "topic": 5, "outlet": "Huffington Post", "id": 137, "posted": "2014-01-15T08:07:04-05:00"}, {"updated": "2014-07-13T05:59:03-04:00", "url": "http://www.huffingtonpost.com/2014/05/13/jose-reyes_n_5319148.html", "text": "Nevada School Shooter Jose Reyes Said He Was Teased: Police", "topic": 5, "outlet": "Huffington Post", "id": 128, "posted": "2014-05-13T18:09:20-04:00"}, {"updated": "2014-06-10T07:37:00-0500", "url": "http://www.washingtonpost.com/politics/police-teen-gunman-in-oregon-apparently-killed-himself-after-fatally-shooting-student/2014/06/10/ca30b822-f0ef-11e3-914c-1fbd0614e2d4_story.html", "text": " Police: Teen gunman in Oregon apparently killed himself after fatally shooting student", "topic": 5, "outlet": "Washington Post", "id": 234, "posted": "2014-06-10T07:37:00-0500"}, {"updated": "2014-08-10T05:59:05-04:00", "url": "http://www.huffingtonpost.com/2014/06/10/reynolds-high-school-shoo_n_5479842.html", "text": "Shooter And Student Reported Dead At Reynolds High School", "topic": 5, "outlet": "Huffington Post", "id": 141, "posted": "2014-06-10T12:00:33-04:00"}, {"updated": "2014-06-11T01:59:02-04:00", "url": "http://www.huffingtonpost.com/2014/06/10/school-shootings-since-newtown_n_5480209.html", "text": "If It's A School Week In America, Odds Are There Will Be A School Shooting", "topic": 5, "outlet": "Huffington Post", "id": 113, "posted": "2014-06-10T13:53:22-04:00"}, {"updated": "2014-06-12T11:59:02-04:00", "url": "http://www.huffingtonpost.com/2014/06/11/teachers-invention-school-shooting_n_5485716.html", "text": "Teacher's Invention Could Save Students During A School Shooting", "topic": 5, "outlet": "Huffington Post", "id": 116, "posted": "2014-06-11T18:29:36-04:00"}, {"updated": "2014-08-12T05:59:05-04:00", "url": "http://www.huffingtonpost.com/2014/06/12/-jared-michael-padgett-oregon-shooting_n_5487634.html", "text": "School Shooter Jared Michael Padgett 'Always Talked About Guns,' Classmate Says", "topic": 5, "outlet": "Huffington Post", "id": 139, "posted": "2014-06-12T08:46:38-04:00"}, {"updated": "2014-06-13T08:20:00-0500", "url": "http://www.washingtonpost.com/opinions/a-fathers-day-gift-for-kids-protect-them-from-gun-violence/2014/06/13/224af0cc-f26c-11e3-914c-1fbd0614e2d4_story.html", "text": " A Fathers Day gift for kids: Protect them from gun violence", "topic": 5, "outlet": "Washington Post", "id": 231, "posted": "2014-06-13T08:20:00-0500"}, {"updated": "2014-09-01T05:59:05-04:00", "url": "http://www.huffingtonpost.com/2014/07/02/roswell-school-shooting_n_5553388.html", "text": "Boy, 12 Gets Maximum Sentence For Roswell School Shooting", "topic": 5, "outlet": "Huffington Post", "id": 127, "posted": "2014-07-02T19:39:45-04:00"}, {"updated": "2014-08-30T07:39:00-0500", "url": "http://www.washingtonpost.com/national/after-gun-tragedies-connecticut-and-arizona-take-different-paths/2014/08/30/5671d35c-257a-11e4-8593-da634b334390_story.html", "text": " After gun tragedies, Connecticut and Arizona take different paths", "topic": 5, "outlet": "Washington Post", "id": 224, "posted": "2014-08-30T07:39:00-0500"}, {"updated": "2014-11-11T05:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/09/11/tj-lane-ohio-captured_n_5808212.html", "text": "Police: T.J. Lane, Convicted Ohio School Shooter, Captured After Escaping Prison", "topic": 5, "outlet": "Huffington Post", "id": 135, "posted": "2014-09-11T22:08:44-04:00"}, {"updated": "2014-10-27T20:59:01-04:00", "url": "http://www.huffingtonpost.com/2014/10/24/marysville-pilchuck-high-school-shooting_n_6043382.html", "text": "Shooter Dead At Marysville Pilchuck High School: Report (UPDATED)", "topic": 5, "outlet": "Huffington Post", "id": 111, "posted": "2014-10-24T14:19:37-04:00"}, {"updated": "2014-10-24T17:59:01-04:00", "url": "http://www.huffingtonpost.com/2014/10/24/washington-gun-laws_n_6043714.html", "text": "Washington Voters Will Weigh Competing Gun Control Measures On Heels Of School Shooting", "topic": 5, "outlet": "Huffington Post", "id": 106, "posted": "2014-10-24T16:18:46-04:00"}, {"updated": "2014-11-07T10:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/10/24/jaylen-fryberg-marysville-shooter_n_6043976.html", "text": "Jaylen Fryberg Identified As Marysville Pilchuck School Shooter", "topic": 5, "outlet": "Huffington Post", "id": 110, "posted": "2014-10-24T17:31:02-04:00"}, {"updated": "2014-10-25T08:59:01-04:00", "url": "http://www.huffingtonpost.com/2014/10/25/jaylen-fryberg-motive_n_6046276.html", "text": "Police Hunt For Motive Of Jaylen Fryberg, Marysville-Pilchuck School Shooter", "topic": 5, "outlet": "Huffington Post", "id": 114, "posted": "2014-10-25T08:19:30-04:00"}, {"updated": "2014-10-26T09:59:01-04:00", "url": "http://www.huffingtonpost.com/2014/10/25/cafeteria-worker-washington-shooting_n_6046812.html", "text": "Teacher Tried To Stop Washington School Shooting", "topic": 5, "outlet": "Huffington Post", "id": 119, "posted": "2014-10-25T12:30:25-04:00"}, {"updated": "2014-10-25T12:45:00-0500", "url": "http://www.washingtonpost.com/school-shooting-reported-near-seattle/2014/10/24/074646bc-580e-451e-83fe-c6d592730d57_story.html", "text": " School shooting near Seattle; police say gunman and another person killed", "topic": 5, "outlet": "Washington Post", "id": 223, "posted": "2014-10-25T12:45:00-0500"}, {"updated": "2014-10-27T12:59:01-04:00", "url": "http://www.huffingtonpost.com/2014/10/27/gia-soriano-marysville-shooting-dead_n_6051116.html", "text": "Gia Soriano, Marysville Shooting Victim, Dies", "topic": 5, "outlet": "Huffington Post", "id": 126, "posted": "2014-10-27T01:17:21-04:00"}, {"updated": "2014-10-27T12:59:01-04:00", "url": "http://www.huffingtonpost.com/2014/10/27/jaylen-fryberg-suicide_n_6055238.html", "text": "Jaylen Fryberg, Washington School Shooter, Committed Suicide: Cops", "topic": 5, "outlet": "Huffington Post", "id": 125, "posted": "2014-10-27T12:28:07-04:00"}, {"updated": "2014-12-27T05:59:01-05:00", "url": "http://www.huffingtonpost.com/stuart-muszynski/who-will-be-the-next-scho_b_6056278.html", "text": "Who Will Be the Next School Shooter? | Stuart Muszynski", "topic": 5, "outlet": "Huffington Post", "id": 118, "posted": "2014-10-27T16:46:54-04:00"}, {"updated": "2014-10-28T02:09:00-0500", "url": "http://www.washingtonpost.com/searching-for-answers-and-patterns-after-the-seattle-area-school-shooting/2014/10/28/973c2f21-405c-4a33-9662-e1c013a4e8ef_story.html", "text": " Searching for answers and patterns after the Seattle-area school shooting", "topic": 5, "outlet": "Washington Post", "id": 216, "posted": "2014-10-28T02:09:00-0500"}, {"updated": "2014-10-28T05:18:00-0500", "url": "http://www.washingtonpost.com/opinions/rehearsing-for-death-a-pre-k-teacher-on-the-trouble-with-lockdown-drills/2014/10/28/4ab456ea-5eb2-11e4-9f3a-7e28799e0549_story.html", "text": " Rehearsing for death: A pre-K teacher on the trouble with lockdown drills", "topic": 5, "outlet": "Washington Post", "id": 222, "posted": "2014-10-28T05:18:00-0500"}, {"updated": "2014-10-29T07:27:00-0500", "url": "http://www.washingtonpost.com/opinions/the-access-children-have-to-guns-is-alarming/2014/10/29/d3fe3600-5eda-11e4-9f3a-7e28799e0549_story.html", "text": " The access children have to guns is alarming", "topic": 5, "outlet": "Washington Post", "id": 228, "posted": "2014-10-29T07:27:00-0500"}, {"updated": "2014-10-31T07:44:00-0500", "url": "http://www.washingtonpost.com/opinions/nothing-funny-about-missing-school-shooting-article/2014/10/30/48cab98e-5d3e-11e4-827b-2d813561bdfd_story.html", "text": " Nothing funny about missing school shooting article", "topic": 5, "outlet": "Washington Post", "id": 221, "posted": "2014-10-31T07:44:00-0500"}, {"updated": "2014-12-31T05:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/10/31/shaylee-chuckulnaskit-marysville-dies_n_6085608.html", "text": "Shaylee Chuckulnaskit, Marysville Shooting Victim, Dies", "topic": 5, "outlet": "Huffington Post", "id": 123, "posted": "2014-10-31T21:57:35-04:00"}, {"updated": "2014-11-12T21:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/11/12/911-calls-marysville-shooting_n_6149376.html", "text": "911 Calls From Marysville School Shooting Released", "topic": 5, "outlet": "Huffington Post", "id": 142, "posted": "2014-11-12T21:27:10-05:00"}, {"updated": "2014-11-17T17:59:02-05:00", "url": "http://www.huffingtonpost.com/2014/11/17/jewett-middle-academy-shooter-drill-_n_6174096.html", "text": "Ultra-Realistic School Shooting 'Drill' Terrifies Students, Teachers, Parents", "topic": 5, "outlet": "Huffington Post", "id": 120, "posted": "2014-11-17T17:18:33-05:00"}, {"updated": "2014-11-18T10:14:00-0500", "url": "http://www.washingtonpost.com/for-one-family-a-new-baby-brings-hope-after-newtown-school-shooting/2014/11/18/d8f8c32d-36bf-4710-9d54-f1372ebb9e74_story.html", "text": " For one family, a new baby brings hope after Newtown school shooting", "topic": 5, "outlet": "Washington Post", "id": 227, "posted": "2014-11-18T10:14:00-0500"}, {"updated": "2014-11-19T18:59:02-05:00", "url": "http://www.huffingtonpost.com/2014/11/19/principal-suspended-shooting-drill-jewett-academy-jacquelyn-moore_n_6188418.html", "text": "Principal Suspended Over Unannounced School Shooting 'Drill'", "topic": 5, "outlet": "Huffington Post", "id": 129, "posted": "2014-11-19T18:40:48-05:00"}, {"updated": "2014-11-22T08:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/11/22/adam-lanza-report_n_6203646.html", "text": "Highlights From Report On Newtown School Shooter Adam Lanza", "topic": 5, "outlet": "Huffington Post", "id": 136, "posted": "2014-11-22T08:32:01-05:00"}, {"updated": "2014-12-09T08:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/12/09/school-shootings-newtown_n_6292052.html", "text": "Almost 100 School Shootings Have Occurred Since Newtown While Congress Has Done Nothing", "topic": 5, "outlet": "Huffington Post", "id": 109, "posted": "2014-12-09T07:00:16-05:00"}, {"updated": "2015-02-11T05:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/12/12/rosemary-anderson-shooting_n_6317444.html", "text": "Shooting Near Oregon's Rosemary Anderson High School Sends 3 To Hospital", "topic": 5, "outlet": "Huffington Post", "id": 108, "posted": "2014-12-12T16:23:29-05:00"}, {"updated": "2014-12-13T10:59:01-05:00", "url": "http://www.huffingtonpost.com/2014/12/13/oregon-school-shooting-suspect-arrested_n_6319536.html", "text": "Suspect In Oregon School Shooting Arrested", "topic": 5, "outlet": "Huffington Post", "id": 117, "posted": "2014-12-13T08:41:10-05:00"}, {"updated": "2014-12-16T12:41:00-0500", "url": "http://www.washingtonpost.com/7-other-school-shootings-that-shocked-the-world/2014/12/16/e9a0eb3d-2936-4fe6-92ff-8579f33b403a_story.html", "text": " 7 other school shootings that shocked the world", "topic": 5, "outlet": "Washington Post", "id": 215, "posted": "2014-12-16T12:41:00-0500"}, {"updated": "2015-01-07T01:09:00-0500", "url": "http://www.washingtonpost.com/schools-outside-seattle-closed-after-report-of-armed-man/2015/01/07/2f5c4bd8-6f15-4369-bd8d-05e9bd567108_story.html", "text": " Schools outside Seattle closed after report of armed man", "topic": 5, "outlet": "Washington Post", "id": 226, "posted": "2015-01-07T01:09:00-0500"}, {"updated": "2015-02-06T07:52:00-0500", "url": "http://www.washingtonpost.com/local/crime/police-continue-to-search-for-clues-in-shooting-outside-frederick-high-school/2015/02/05/f92a0b66-ad2c-11e4-abe8-e1ef60ca26de_story.html", "text": " Police continue search for clues in shooting outside Frederick High school", "topic": 5, "outlet": "Washington Post", "id": 220, "posted": "2015-02-06T07:52:00-0500"}, {"updated": "2015-02-12T14:59:01-05:00", "url": "http://www.huffingtonpost.com/2015/02/12/newtown-panel-recommendations_n_6672122.html", "text": "Newtown Panel Issues Recommendations After School Shooting", "topic": 5, "outlet": "Huffington Post", "id": 115, "posted": "2015-02-12T14:47:53-05:00"}, {"updated": "2015-05-21T12:01:00-0500", "url": "http://www.washingtonpost.com/local/education/us-public-schools-report-fewer-violent-incidents-more-security/2015/05/20/283bb2ca-ff2f-11e4-8b6c-0dcce21e223d_story.html", "text": " U.S. public schools report fewer violent incidents", "topic": 5, "outlet": "Washington Post", "id": 219, "posted": "2015-05-21T12:01:00-0500"}, {"updated": "2015-06-18T05:13:00-0500", "url": "http://www.washingtonpost.com/politics/in-charlestons-wake-obamas-comments-speak-to-presidential-limits/2015/06/18/132dde4c-15de-11e5-9518-f9e0a8959f32_story.html", "text": " In shootings wake, Obamas comments speak to presidential limits", "topic": 5, "outlet": "Washington Post", "id": 218, "posted": "2015-06-18T05:13:00-0500"}, {"updated": "2015-06-19T09:37:00-0500", "url": "http://www.washingtonpost.com/politics/south-carolina-governor-urges-death-penalty-charges-in-church-slayings/2015/06/19/3c039722-1678-11e5-9ddc-e3353542100c_story.html", "text": " From victims families, forgiveness for accused Charleston gunman Dylann Roof", "topic": 5, "outlet": "Washington Post", "id": 217, "posted": "2015-06-19T09:37:00-0500"}, {"updated": "2015-06-20T01:30:00-0500", "url": "http://www.washingtonpost.com/ted-cruz-democrats-using-charleston-as-excuse-to-take-away-gun-rights/2015/06/19/d18bc4a5-53f3-4d80-ba37-ef673a49f571_story.html", "text": " Ted Cruz: Democrats using Charleston as &#8216;excuse&#8217; to take away gun rights", "topic": 5, "outlet": "Washington Post", "id": 233, "posted": "2015-06-20T01:30:00-0500"}, {"updated": "2015-06-25T06:05:00-0500", "url": "http://www.washingtonpost.com/politics/whitehouse/as-eulogizer-in-chief-obama-invokes-the-nations-common-creed/2015/06/25/3c5548ca-1b3b-11e5-ab92-c75ae6ab94b5_story.html", "text": " The more eulogies Obama gives, the harder it is to be optimistic", "topic": 5, "outlet": "Washington Post", "id": 214, "posted": "2015-06-25T06:05:00-0500"}, {"updated": "2015-06-29T03:00:00-0500", "url": "http://www.washingtonpost.com/politics/has-there-been-one-school-shooting-per-week-since-sandy-hook/2015/06/29/421a0868-02f4-48f4-859d-43dc05277a74_story.html", "text": " Has there been one school shooting per week since Sandy Hook?", "topic": 5, "outlet": "Washington Post", "id": 213, "posted": "2015-06-29T03:00:00-0500"}, {"updated": "2015-07-02T02:00:00-0500", "url": "http://www.washingtonpost.com/study-why-some-mass-killings-and-school-shootings-seem-to-be-contagious/2015/07/02/031ac609-5619-413c-8b8b-4eaf33487a27_story.html", "text": " Study: Why some mass killings and school shootings seem to be contagious", "topic": 5, "outlet": "Washington Post", "id": 212, "posted": "2015-07-02T02:00:00-0500"}, {"updated": "2015-07-10T01:22:00-0500", "url": "http://www.washingtonpost.com/local/tests-link-gun-used-at-frederick-high-to-other-shootings/2015/07/10/3515ad0e-2728-11e5-b621-b55e495e9b78_story.html", "text": " Tests link gun used at Frederick High to other shootings", "topic": 5, "outlet": "Washington Post", "id": 211, "posted": "2015-07-10T01:22:00-0500"}, {"updated": "2015-07-16T08:20:00-0500", "url": "http://www.washingtonpost.com/authorities-investigating-reports-of-shooting-in-tennessee/2015/07/16/e271292a-10ec-47d1-bde8-9c843b687cc5_story.html", "text": " Four Marines and gunman killed in Tennessee shooting that officials call &#8216;domestic terrorism&#8217;", "topic": 5, "outlet": "Washington Post", "id": 225, "posted": "2015-07-16T08:20:00-0500"}, {"updated": "2015-07-17T03:48:00-0500", "url": "http://www.washingtonpost.com/national/mother-of-newtown-shooting-victim-lauds-us-school-bill/2015/07/17/2c3d1732-2cb7-11e5-960f-22c4ba982ed4_story.html", "text": " Mother of Newtown shooting victim lauds US school bill", "topic": 5, "outlet": "Washington Post", "id": 210, "posted": "2015-07-17T03:48:00-0500"}, {"updated": "2015-07-18T07:30:00-0500", "url": "http://www.washingtonpost.com/national/the-latest-shooter-failed-drug-test-for-job-at-nuke-plant/2015/07/17/f63ca0e2-2ce5-11e5-960f-22c4ba982ed4_story.html", "text": " The Latest: FBI seeks help in Chattanooga shooting", "topic": 5, "outlet": "Washington Post", "id": 232, "posted": "2015-07-18T07:30:00-0500"}, {"updated": "October 25, 2014", "url": "http://www.washingtonpost.com/posttv/national/2-students-remain-critical-after-school-shooting/2014/10/25/c585a87e-5c69-11e4-9d6c-756a229d8b18_video.html", "text": "2 students remain critical after school shooting", "topic": 5, "outlet": "Washington Post", "id": 229, "posted": "October 25, 2014"}, {"updated": "October 25, 2014", "url": "http://www.washingtonpost.com/posttv/national/vigil-marked-by-tears-after-school-shooting/2014/10/25/85cfd332-5c4e-11e4-9d6c-756a229d8b18_video.html", "text": "Vigil marked by tears after school shooting", "topic": 5, "outlet": "Washington Post", "id": 230, "posted": "October 25, 2014"}];
var huffP = data.filter(function(point) {
  return (point.outlet === "Huffington Post");
});
var nbc = data.filter(function(point) {
  return (point.outlet === "NBC News");
});
var washP = data.filter(function(point) {
  return (point.outlet === "Washington Post");
});

/* GET home page. */
router.get('/', function(req, res, next) {
  res.render('story', {
    topicTitle: "School Shootings",
    "topic": [
    {source: {name:'Huffington Post', article: listToArticle(huffP)}},
    {source: {name:'NBC News', article: listToArticle(nbc)}},
    {source: {name:'Washington Post', article: listToArticle(washP)}}]});
});

function listToArticle(list) {
  var newArr = [];
  list.forEach(function(point) {
    newArr.push({title: point.text, updated: new Date(point.updated).toLocaleString(), url: point.url});
  });
  return newArr;
}

module.exports = router;